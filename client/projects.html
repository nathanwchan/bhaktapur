<template name="projects">
  <a name="projects"></a>
  <div class="projects">
    <ul class="nav nav-tabs">
      <li class="active">
        <a href="#projects">Current Projects</a>
      </li>
      <li>
        <a href="#projects">Completed Projects</a>
      </li>
      <a data-toggle="modal" href="#addproject" id="addprojectbutton">
        <button class="btn btn-primary pull-right" type="button">+ New Project</button>
      </a>
    </ul>

    {{#if projectsLoaded}}
      {{#each projects}}
        {{> project}}
      {{/each}}
    {{else}}
      <div class="row-fluid">
        <i class="icon-spinner icon-spin icon-2x pull-left"></i> Loading projects...
      </div>
    {{/if}}
  </div>
</template>

<template name="project">
  <div class="project">
    <b class="title">{{name}}</b>
    <div class="btn-group pull-right">
      <button class="btn btn-mini dropdown-toggle" data-toggle="dropdown">
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu">
        {{#if isLogged}}
          <li><a id="edit-project" data-toggle="modal" href="#editproject">Edit project</a></li>
          <li><a id="mark-as-complete">Mark project as complete</a></li>
        {{else}}
          <li><a id="sign-in">Sign in with Facebook to contribute</a></li>
        {{/if}}
      </ul>
    </div>
    <p class="description">{{description}}</p>
    <br>
  </div>
</template>
